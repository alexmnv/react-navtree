webpackJsonp([4],{181:function(e,t,n){e.exports=n(9)},182:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(6),c=o(f),d=n(25),v=o(d),h=n(87),p=o(h),y=n(88),b=function(e){function t(e){u(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={focused:!1},n}return s(t,e),l(t,[{key:"getChildContext",value:function(){return{tree:this.tree}}},{key:"componentWillMount",value:function(){if(this.props.tree)this.tree=this.props.tree;else{if(!this.context.tree)return;var e=this.props.navId;this.tree=this.context.tree.addNode(e)}this.tree.resolveFunc=this.resolveFunc.bind(this),this.tree.onNavCallback=this.onNav.bind(this),this.props.defaultFocused&&this.tree.focus()}},{key:"componentWillUnmount",value:function(){this.tree.parent&&this.tree.parent.removeNode(this.tree.id)}},{key:"resolveFunc",value:function(e,t,n){return this.props.func?this.props.func(e,t,n):t.nodesId.length>1?(0,y.navDynamic)(e,t,n):!this.state.focused&&(t.nodesId.length>0?t.nodesId[0]:null)}},{key:"onNav",value:function(e){this.setState({focused:!1!==e}),this.props.onNav&&this.props.onNav(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.component,o=t.children,u=t.className,i=t.focusedClass,s=(t.tree,t.navId,t.func,t.onNav,t.defaultFocused,r(t,["component","children","className","focusedClass","tree","navId","func","onNav","defaultFocused"])),l=n||this.constructor.defaultComponent;return this.state.focused&&(void 0===i&&(i=this.constructor.defaultFocusedClass),u=(u||"")+" "+i),c.default.createElement(l,a({ref:function(t){e.tree&&(e.tree.el=t)},className:u},s),o)}}]),t}(c.default.PureComponent);t.default=b,b.defaultComponent="div",b.defaultFocusedClass="nav-focused",b.contextTypes={tree:v.default.instanceOf(p.default)},b.childContextTypes={tree:v.default.instanceOf(p.default)},b.propTypes={navId:v.default.string,func:v.default.func,focusedClass:v.default.string,component:v.default.node,tree:v.default.instanceOf(p.default),onNav:v.default.func,defaultFocused:v.default.bool,children:v.default.node,className:v.default.string}},87:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(){function e(t,n,r){o(this,e),this.id=t||null,this.parent=null,this.nodes={},this.nodesId=[],this.focusedNode=null,this.onNavCallback=r||function(){},this.resolveFunc=n||function(){}}return r(e,[{key:"addNode",value:function(e){e?void 0!==this.nodes[e]&&(e=this._genId()):e=this._genId();var t=new this.constructor(e);return t.parent=this,this.nodes[e]=t,this.nodesId.push(e),t}},{key:"removeNode",value:function(e){this.focusedNode===e&&(this.focusedNode=null),this.nodes[e].parent=null,delete this.nodes[e],this.nodesId.splice(this.nodesId.indexOf(e),1)}},{key:"_genId",value:function(){for(var e=this.nodesId.length+1;this.nodes[e];)e++;return e.toString()}},{key:"focus",value:function(e){return this.parent?this.parent.focus([this.id].concat(e||[])):(Array.isArray(e)||(e=Array.from(arguments)),this._focus(e))}},{key:"_focus",value:function(e){var t=void 0;!1===e?(this.onNavCallback(!1),t=null):(this.onNavCallback(e.slice()),void 0===(t=e.shift())&&(t=null)),null!==t&&void 0===this.nodes[t]||(null!==this.focusedNode&&this.focusedNode!==t&&this.nodes[this.focusedNode]._focus(!1),this.focusedNode=t,null!==t&&this.nodes[t]._focus(e))}},{key:"resolve",value:function(e){for(var t=this;t.parent;)t=t.parent;var n=t,o=n._focus,r={break:!1};n._focus=function(e){return r.break=!0,o.call(n,e)};var u=n._resolve(e,r);n._focus=o,u&&!r.break&&n!==u&&u.focus()}},{key:"_resolve",value:function(e,t){var n=this.getFocusedNode(!0),o=n;do{var r=this._getResolveFuncResult(o,e,n);if(t.break)return!1;if(r){if(r===o)return o;o=r;break}o=o.parent}while(o);if(!o)return!1;if(o.parent&&o.parent.focusedNode===o.id)return o;for(;;){var u=this._getResolveFuncResult(o,e,n);if(t.break)return!1;if(!u)return o;if(u===o)return o;o=u}}},{key:"_getResolveFuncResult",value:function(e,t,n){var o=e.resolveFunc(t,e,n);return null===o?e:void 0!==e.nodes[o]&&e.nodes[o]}},{key:"getNode",value:function(e){Array.isArray(e)||(e=Array.from(arguments));var t=this;for(var n in e)t=t.nodes[e[n]];return t}},{key:"getFocusedPath",value:function(){for(var e=[],t=this;null!==t.focusedNode;)e.push(t.focusedNode),t=t.nodes[t.focusedNode];return e}},{key:"getFocusedNode",value:function(e){var t=this;if(e)for(;null!==t.focusedNode;)t=t.nodes[t.focusedNode];return t}}]),e}();t.default=u},88:function(e,t,n){"use strict";function o(e,t,n){if("left"!==e&&"right"!==e&&"up"!==e&&"down"!==e)return!1;var o=void 0;null!==t.focusedNode?o=t.nodes[t.focusedNode].el:n&&(o=n.el);var r={left:"left",right:"right",up:"top",down:"bottom"},a={left:"right",right:"left",up:"bottom",down:"top"},l=o?i(r[e],u(o)):{x:0,y:0},f=null,c=void 0;return t.nodesId.forEach(function(n){var r=t.nodes[n],d=r.el;if(d!==o){var v=i(a[e],u(d));if("left"===e&&v.x>l.x||"right"===e&&v.x<l.x||"up"===e&&v.y>l.y||"down"===e&&v.y<l.y)return;var h=s(l,v);(null===f||f>h)&&(f=h,c=r)}}),!!c&&c.id}function r(e){var t=e.cols;return function(e,n){var o=n.focusedNode,r=n.nodesId,u=null!==o?r.indexOf(o):-1;if("left"===e||"right"===e){var i=-1!==u?Math.floor(u/t):0,s=i*t,l=s+t,f=r.slice(s,l);return a(o,f,"left"===e?"prev":"next")}if("up"===e||"down"===e){for(var c=-1!==u?u%t:0,d=[],v=c;v<r.length;v+=t)d.push(r[v]);return a(o,d,"up"===e?"prev":"next")}}}Object.defineProperty(t,"__esModule",{value:!0}),t.navDynamic=o,t.navTable=r;var u=function(e){return e=e.getBoundingClientRect(),{left:e.left+window.scrollX,right:e.right+window.scrollX,top:e.top+window.scrollY,bottom:e.bottom+window.scrollY}},i=function(e,t){return"left"===e?{x:t.left,y:t.top+(t.bottom-t.top)/2}:"right"===e?{x:t.right,y:t.top+(t.bottom-t.top)/2}:"top"===e?{x:t.left+(t.right-t.left)/2,y:t.top}:"bottom"===e?{x:t.left+(t.right-t.left)/2,y:t.bottom}:void 0},s=function(e,t){var n=e.x-t.x,o=e.y-t.y;return Math.sqrt(n*n+o*o)},a=function(e,t,n){var o=t.indexOf(e),r="next"===n?1:-1,u=void 0;return(u=-1===o?r>0?0:t.length-1:o+r)>=0&&u<t.length&&t[u]};t.navVertical=function(e,t){var n=t.focusedNode,o=t.nodesId;return"up"===e||"down"===e?a(n,o,"up"===e?"prev":"next"):null===n&&o[0]},t.navHorizontal=function(e,t){var n=t.focusedNode,o=t.nodesId;return"left"===e||"right"===e?a(n,o,"left"===e?"prev":"next"):null===n&&o[0]}},9:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.navDynamic=t.navVertical=t.navHorizontal=t.navTable=t.NavTree=void 0;var r=n(87);Object.defineProperty(t,"NavTree",{enumerable:!0,get:function(){return o(r).default}});var u=n(88);Object.defineProperty(t,"navTable",{enumerable:!0,get:function(){return u.navTable}}),Object.defineProperty(t,"navHorizontal",{enumerable:!0,get:function(){return u.navHorizontal}}),Object.defineProperty(t,"navVertical",{enumerable:!0,get:function(){return u.navVertical}}),Object.defineProperty(t,"navDynamic",{enumerable:!0,get:function(){return u.navDynamic}});var i=n(182),s=o(i);t.default=s.default}},[181]);